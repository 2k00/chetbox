<html>
  <head>
    <title>Tab Cloak</title>
    <style>
      /* Navigation drawer */
		#nav-drawer {
			position: fixed;
			top: 0;
			left: -250px;
			/* Start hidden off the screen */
			width: 250px;
			height: 100%;
			background: #444;
			box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
			transition: left 0.3s ease-out;
		}

		/* Navigation items */
		#nav-drawer ul {
			margin: 0;
			padding: 0;
			list-style: none;
		}

		#nav-drawer li {
			border-bottom: 1px solid #eee;
		}

		#nav-drawer a {
			display: block;
			padding: 20px;
			color: #aba9a9;
			text-decoration: none;
		}

		/* Toggle button for the navigation drawer */
		#nav-toggle {
			position: fixed;
			top: 10px;
			right: 0px;
			z-index: 1000;
			cursor: pointer;
			outline: none;
			border: 0;
			background: transparent;
		}

		/* Three bars icon */
		#nav-toggle .bar {
			width: 30px;
			height: 3px;
			background: #fff;
			margin: 6px 0;
			transition: transform 0.3s ease-out;
		}
      ::placeholder {
			  color: black;
		  }
      #input {
        width: 10%;
			  height: 40px;
			  padding: 0 10px;
			  box-sizing: border-box;
			  border: none;
			  border-radius: 8px;
			  background-color: #99AAB5;
			  color: #1f1d1d;
			  font-size: 16px;
			  outline: none;
      }
      #header {
			  width: 100%;
			  height: 60px;
			  background-color: #23272A;
			  border-radius: 8px;
			  text-align: center;
			  color: white;
			  margin: 0;
			  padding: 0;
			  z-index: 10000;
		  }
      #enter {
			  width: 120px;
			  height: 40px;
			  margin-left: 10px;
			  border: none;
			  border-radius: 8px;
			  background-color: #7289DA;
			  color: white;
			  font-size: 16px;
			  font-weight: bold;
			  cursor: pointer;
      }
      body {
			  background-color: #2C2F33;
		  }
      p {
			  color: #FFFFFF;
        font-size: 20px;
		  }
    </style>
  </head>
  <body>
    <div id="header">
			<h1 id="header">Cloaked Tab</h1>
		</div>
    <br><br>
    <center>
      <p>This feature will open a cloaked tab with the URL you inputted that teachers cant track on hapara (like go through your history and such) but I'm not sure if they can still see it on the hapara tab list and also some sites might not work including any sites that are made my google (like youtube) or others like discord (since they blocked it on the wifi) so if you want a bigger selection then use the <b>browser feature</b> (you can access it by clicking the 3 dots and clicking on "browser")</p>
      <br><br>
      <input type="text" id="input" placeholder="Input the URL here">
      <button id="enter" onclick="javascript: var inputField = document.getElementById('input'); var url = inputField.value; if (!url.includes('https://') && !url.includes('http://')) { url = 'https://' + url; } if (url.length > 0) { var win = window.open(); win.document.body.style.margin = '0'; win.document.body.style.height = '100vh'; var iframe = win.document.createElement('iframe'); iframe.style.border = 'none'; iframe.style.width = '100%'; iframe.style.height = '100%'; iframe.style.margin = '0'; iframe.src = url; win.document.body.appendChild(iframe); } else { alert('Please enter a valid URL.'); }">Enter</button>
    </center>
    <div id="nav-drawer">
		<!-- Navigation items -->
		<ul>
			<li><a onclick="" href="index.html">Home</a></li>
			<li><a href="disguise.html">Disguise Page</a></li>
			<li><a href="#">About</a></li>
			<li><a onclick="" href="chatbox.html">Chatbox</a></li>
			<li><a onclick="" href="custom-room.html">Custom Chatbox Rooms (NEW!)</a></li>
			<li><a href="potato-clicker.html">Potato Clicker Game</a></li>
      <li><a href="cps.html">Clicks Per Second Counter</a></li>
      <li><a href="tab-cloak">Tab Cloak (NEW!)</a></li>
      <li><a href="browser.html">Browser (NEW!)</a></li>
		</ul>
	</div>
    <!-- Toggle button for the navigation drawer -->
	<button id="nav-toggle">
		<!-- Three bars icon -->
		<div class="bar"></div>
		<div class="bar"></div>
		<div class="bar"></div>
	</button>
  <script>
    window.onload = readFaviconAndTitle();
    function changeFaviconAndTitle(faviconUrl, newTitle) {
			// Get the current page's head element
			var head = document.getElementsByTagName('head')[0];

			// Remove the current favicon
			var links = head.getElementsByTagName('link');
			for (var i = 0; i < links.length; i++) {
				if (links[i].rel === 'icon' || links[i].rel === 'shortcut icon') {
					head.removeChild(links[i]);
				}
			}

			// Create the new favicon link element
			var favicon = document.createElement('link');
			favicon.rel = 'icon';
			favicon.type = 'image/x-icon';
			favicon.href = faviconUrl;

			// Append the new favicon to the head element
			head.appendChild(favicon);

			// Change the page title
			document.title = newTitle;
		}
    function readFaviconAndTitle() {
      if (document.cookie.indexOf("newTitle=") >= 0) {
        // the cookie exists
        // Read the cookie values
			  var cookies = document.cookie.split(";");
			  var faviconUrl = "";
			  var newTitle = "";
			  for (var i = 0; i < cookies.length; i++) {
				  var cookie = cookies[i].trim();
				  if (cookie.startsWith("faviconUrl=")) {
					  faviconUrl = cookie.substring(11);
				  } else if (cookie.startsWith("newTitle=")) {
					  newTitle = cookie.substring(9);
				  }
			  }

			  // Set the title and favicon using the changeFaviconAndTitle function
			  changeFaviconAndTitle(faviconUrl, newTitle);
      } else {
        // the cookie does not exist
      }
		}
		// Wait for the DOM elements to load
		document.addEventListener('DOMContentLoaded', function() {
			// Get the navigation drawer and toggle button
			const navDrawer = document.getElementById('nav-drawer');
			const navToggle = document.getElementById('nav-toggle');
			const navLinks = navDrawer.getElementsByTagName('a'); // Get all the links in the navbar

			// Close the navbar when one of the links is clicked
			for (let i = 0; i < navLinks.length; i++) {
				navLinks[i].addEventListener('click', function() {
					navDrawer.style.left = '-250px'; // Hide the navbar
				});
			}

			// Toggle the navigation drawer when the toggle button is clicked
			navToggle.addEventListener('click', function() {
				const left = window.getComputedStyle(navDrawer).left;
				navDrawer.style.left = left === '-250px' ? '0' : '-250px';
			});

			document.addEventListener('click', function(event) {
				// Check if the click was outside the nav bar
				if (!event.target.closest('#nav-drawer') && !event.target.closest('#nav-toggle')) {
					// Close the nav bar
					navDrawer.style.left = '-250px';
				}
			});

		});
  </script>
  </body>
</html>
